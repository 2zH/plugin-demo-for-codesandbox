!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(r["@pluginjs/utils"]={})}(this,function(r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t=function(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r},e=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},o=function(r,n){var t={};for(var e in r)n.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t},u=function(){return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,n){var t=[],e=!0,o=!1,u=void 0;try{for(var i,a=r[Symbol.iterator]();!(e=(i=a.next()).done)&&(t.push(i.value),!n||t.length!==n);e=!0);}catch(r){o=!0,u=r}finally{try{!e&&a.return&&a.return()}finally{if(o)throw u}}return t}(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}return Array.from(r)};function a(r){return r.reduce(function(r,n){var o=u(n,2),i=o[0],a=o[1];return e({},r,t({},i,a))},{})}var c={0:"X",1:"Y",2:"Z"};function f(r){return["translate","rotate","scale"].filter(function(n){var t=new RegExp(n,"g");return!!r.match(t)}).reduce(function(n,t){var e=r.match(/\(([^()]+)\)/)[1].split(",");return function(r){switch(r){case"translate":return s;case"rotate":return y;case"scale":return l;default:return function(){return"no match!"}}}(t)(e)},{})}function l(r){return r.map(function(r,n){var e=parseFloat(r,10);return t({},"scale"+c[n],e||0)}).reduce(p)}function s(r){return r.map(function(r,n){var e=parseFloat(r.slice(0,-2),10);return t({},"translate"+c[n],e||0)}).reduce(p)}function y(r){var n=r[r.length-1].slice(0,-3),e=r.slice(0,-1).map(function(r,n){return parseInt(r,10)?"rotate"+c[n]:r}).filter(g);return t({},e[0],parseFloat(n))}function p(r,n){return e({},r,n)}function v(r,n){return Array.isArray(r)?r.concat(n):[r,n]}function g(r){return!!r}function d(r){return Array.from(new Set(r))}function h(r){return"object"===(void 0===r?"undefined":n(r))&&(null!==r&&(!(r instanceof Set||r instanceof Map)&&!Array.isArray(r)))}function m(r,n){return h(n)&&h(r)||h(r)&&Array.isArray(n)?O(d(Object.keys(r).concat(Object.keys(n))).map(function(t){return[t,m(r[t],n[t])]})):h(n)&&"function"==typeof r?Object.assign(function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return r.apply(this,t)},n):h(n)&&Array.isArray(r)?Object.assign([],r,n):h(r)&&"function"==typeof n?Object.assign(function(){for(var r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];return n.apply(this,t)},r):Array.isArray(n)&&Array.isArray(r)?d(Object.keys(n).concat(Object.keys(r))).map(function(t){return m(r[t],n[t])}):void 0===n?r:n}function b(r){return Object(r)===r}var A=1e6;function O(r){return r.reduce(function(r,n){var o=u(n,2),i=o[0],a=o[1];return e({},r,t({},i,a))},{})}r.deepClone=function(r){return"function"==typeof r?r:JSON.parse(JSON.stringify(r))},r.nub=d,r.isPlainObject=h,r.deepMerge=function(){for(var r=arguments.length,n=Array(r),t=0;t<r;t++)n[t]=arguments[t];return n.filter(b).reduce(m)},r.curry=function r(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){for(var e=arguments.length,o=Array(e),u=0;u<e;u++)o[u]=arguments[u];var a=n.currylen||n.length,c=t.concat(o);return c.length>=a?n.apply(void 0,i(c)):r(n,c)}},r.compose=function(){for(var r=arguments.length,n=Array(r),t=0;t<r;t++)n[t]=arguments[t];var e=function(){for(var r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];return n.reduceRight(function(r,t,e){return Array.isArray(r)&&e===n.length-1?t.apply(void 0,i(r)):t(r)},t)};return e.currylen=n[n.curylen||n.length-1].length,e},r.getUID=function(r){do{r+=~~(Math.random()*A)}while(document.getElementById(r));return r},r.range=function(r){return Array.from({length:r},function(r,n){return n})},r.reflow=function(r){return r.offsetHeight},r.arraysEqual=function(r,n){if(r===n)return!0;if(void 0===r||void 0===n)return!1;if(r.length!==n.length)return!1;for(var t=0;t<r.length;++t)if(r[t]!==n[t])return!1;return!0},r.arrayDiff=function(r,n){return r.filter(function(r){return n.indexOf(r)<0})},r.arrayIntersect=function(r,n){var t=void 0;return n.length>r.length&&(t=n,n=r,r=t),r.filter(function(r){return-1!==n.indexOf(r)})},r.convertPercentageToFloat=function(r){return parseFloat(r.slice(0,-1)/100,10)},r.convertFloatToPercentage=function(r){return r<0?r=0:r>1&&(r=1),100*parseFloat(r).toFixed(4)+"%"},r.convertMatrixToArray=function(r){return!(!r||"matrix"!==r.substr(0,6))&&r.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)},r.getTime=function(){return void 0!==window.performance&&window.performance.now?window.performance.now():Date.now()},r.camelize=function(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r=r.replace(/[_.-\s](\w|$)/g,function(r,n){return n.toUpperCase()}),n&&(r=r.substring(0,1).toUpperCase()+r.substring(1)),r},r.getValueByPath=function(r,n){if(Object(r)!==r||void 0===n)return r;if(n in r)return r[n];var t=n.split("."),e=t.length;if(e){for(var o=-1;r&&++o<e;){for(var u=t[o];"\\"===u[u.length-1];)u=u.slice(0,-1)+"."+t[++o];r=r[u]}return r}},r.throttle=function(r,n){var t=this,e=!1;function o(){e=!1}return void 0!==n||null!==n?function(){for(var u=arguments.length,i=Array(u),a=0;a<u;a++)i[a]=arguments[a];var c=t;e||(e=!0,r.apply(c,i),window.setTimeout(o,n))}:function(){for(var n=arguments.length,u=Array(n),i=0;i<n;i++)u[i]=arguments[i];var a=t;e||(e=!0,window.requestAnimationFrame(function(){r.apply(a,u),o()}))}},r.debounce=function(r){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,e=void 0;return function(){for(var o=arguments.length,u=Array(o),i=0;i<o;i++)u[i]=arguments[i];var a=n;e&&(clearTimeout(e),e=null),e=setTimeout(function(){r.apply(a,u)},t)}},r.fromPairs=O,r.mergeWith=function(r,n,o){return Object.entries(r).reduce(function(r,i){var a=u(i,2),c=a[0],f=a[1];return e({},r,t({},c,o(f,n[c])))},{})},r.keyframes2Anime=function(r){var n=[],c=new Set,l=r.map(function(r,t){var e=r.transform,u=o(r,["transform"]);if(e){var a=e.split(") ").map(function(r,n,t){return n!==t.length-1?r+")":r}).map(function(r){if(/3d/g.test(r)){var n=f(r);return Object.keys(n).map(function(r){return c.add(r)}),n}return r}).filter(function(r){return"string"!=typeof r});return a.length?Object.assign.apply(Object,[{},u].concat(i(a))):(n.push(t),u)}return u}),s=a(Array.from(c).map(function(r){return/scale/g.test(r)?[r,1]:[r,0]}));if(n.length){var y=!0,p=!1,g=void 0;try{for(var d,h=n[Symbol.iterator]();!(y=(d=h.next()).done);y=!0){var m=d.value;Object.assign(l[m],s)}}catch(r){p=!0,g=r}finally{try{!y&&h.return&&h.return()}finally{if(p)throw g}}}var b,A=function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=n.slice(0,-1),a=n[n.length-1];return Object.entries(n[0]).reduce(function(r,n){var o=u(n,1)[0];return e({},r,t({},o,i.map(function(r){return r[o]}).filter(function(r){return Boolean(r)||0===r}).reduce(function(r,n){return a(r,n)})))},{})}.apply(void 0,i(l).concat([v]));return function(r){return r.offset,o(r,["offset"])}((b=A,a(Object.entries(b).filter(function(r){return!!u(r,2)[1].filter(function(r){return Boolean(r)}).length}).map(function(r){var n=u(r,2),t=n[0],e=n[1].map(function(r){return void 0===r?/scale/g.test(t)?1:0:r});return[t,e]}))))},Object.defineProperty(r,"__esModule",{value:!0})});
