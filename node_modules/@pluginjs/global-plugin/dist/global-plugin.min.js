!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n["@pluginjs/global-plugin"]={})}(this,function(n){"use strict";var t=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),i=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t},r=function(){return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var e=[],i=!0,r=!1,o=void 0;try{for(var u,s=n[Symbol.iterator]();!(i=(u=s.next()).done)&&(e.push(u.value),!t||e.length!==t);i=!0);}catch(n){r=!0,o=n}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function n(e,i){t(this,n),this.plugin=e,this.element=i,window.Pj&&window.Pj.instances[this.plugin]&&window.Pj.instances[this.plugin].push(this)}return e(n,[{key:"getDataOptions",value:function(){var n=this,t=this.element.dataset,e={};return Object.keys(t).length>0&&Object.entries(t).forEach(function(t){var i=r(t,2),o=i[0],u=i[1],s={},l=o.split("-"),a=l.length;if(a>1)for(var c={},f=0;f<a;f++){var p=l[f].substring(0,1).toLowerCase()+l[f].substring(1);0===f?(c={},s[p]={}):f===a-1?c[p]=u:(c={})[p]={}}else l[0]==="as"+n.plugin.substring(0,1).toUpperCase()+n.plugin.substring(1)?s=u:s[o]=u;Object.assign(e,s)}),e}},{key:"destroy",value:function(){var n=this;this.plugin=null,this.element=null,window.Pj&&window.Pj.instances[this.plugin]&&(window.Pj.instances[this.plugin]=window.Pj.instances[this.plugin].filter(function(t){return t.element===n.element}))}}],[{key:"of",value:function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return new(Function.prototype.bind.apply(this,[null].concat(t)))}}]),n}(),u=function(n){function r(n){t(this,r);var e=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,n,window.Pj.doc));return window.Pj.instances[e.plugin]?(e.instanceId=window.Pj.instances[e.plugin].length+1,window.Pj.instances[e.plugin].push(e),e):i(e)}return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(r,o),e(r,[{key:"destroy",value:function(){var n=this;window.Pj.instances[this.plugin]=window.Pj.instances[this.plugin].filter(function(t){return t!==n}),window.Pj[this.plugin]=null}}]),r}();n.default=u,Object.defineProperty(n,"__esModule",{value:!0})});
